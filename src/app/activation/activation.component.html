<div class="row login-page m-0">
  <div class="col-xs-12 order-md-2 col-md-6 col-lg-7 col-xl-8 login-image"></div>
  <div class="col-xs-12 order-md-1 col-md-6 col-lg-5 col-xl-4 login-data" *ngIf="activation">
    <div class="center-box">
      <div class="yellow-title noselect twms-text">{{ activation.projectMetaData.name }}</div>
      <div class="form-wr">
        <div class="info-title">
          {{activation.isBareboneVersion ? ('ACTIVATION.SOFTWARE_UPDATE' | translate) : ('ACTIVATION.PRODUCT_ACTIVATION' | translate)}}
        </div>
        <div class="info">
          {{activation.isBareboneVersion ? ('ACTIVATION.APPLICATION_FILE' | translate) : ('ACTIVATION.ACTIVATION_FILE' | translate)}}
        </div>
        <div class="dform">
          <input type="file" multiple="false" [accept]="activation.isBareboneVersion ? getAcceptedFirmwareFileExtensions().join(',') : '.dat'" class="input-dll" #fileInput (change)="onFileSelect($event)" />
          <div class="row no-gutters justify-content-center">
            <div class="col-7">
              <input type="text" readonly="true" [(ngModel)]="fileOutput" name="fileOutput" />
            </div>
            <div class="col-5">
              <viega-button [enableIcon]="false" [isDisabled]="isWaitingForUpdateEnd || (uploadProgress !== undefined)" (click)="onBrowseClick($event)">
                {{ 'ACTIVATION.SEARCH' | translate }}
              </viega-button>
            </div>
            <viega-loading-spinner class="mt-3" *ngIf="isWaitingForUpdateEnd || (uploadProgress !== undefined)">
            </viega-loading-spinner>
            <div *ngIf="uploadProgress !== undefined" class="progress-label mt-3 ml-2">{{uploadProgress}}% - {{ 'ACTIVATION.UPLOAD_MESSAGE' | translate }}</div>
            <div *ngIf="isWaitingForUpdateEnd" class="progress-label mt-3 ml-2">{{ 'ACTIVATION.CONTROLLER_UPDATING' | translate }}</div>
          </div>
        </div>
      </div>
      <div>
        <div class="row no-gutters submit-box">
          <div class="col-5 offset-7">
            <viega-button [isDisabled]="!fileOutput || isWaitingForUpdateEnd || (uploadProgress !== undefined)" [enableIcon]="false" (click)="activation.isBareboneVersion ? onStartDeviceFirmwareUpdate() : onSubmitActivation()">
              {{activation.isBareboneVersion ? ('ACTIVATION.UPDATE' | translate) : ('ACTIVATION.ACTIVATE' | translate)}}
            </viega-button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
